# gsd-teams

Team coordination for [GSD](https://github.com/glittercowboy/get-shit-done) planning state. Share progress across team members and parallel sessions, then consolidate milestones and status into unified views.

## What It Does

gsd-teams extends GSD with multi-member and multi-session coordination. Each team member shares their `.planning/` state to a shared directory, and a consolidation command aggregates milestones and status across the entire team. This enables distributed teams (or solo developers with parallel sessions) to stay aligned without manual status meetings.

## Prerequisites

- [GSD](https://github.com/glittercowboy/get-shit-done) must be installed and initialized
- Run `/gsd:new-project` in your repo to set up `.planning/` before using gsd-teams

## Installation

```
/plugin marketplace add ianwsperber/gsd-teams
/plugin install gsd-teams@gsd-teams
```

## Commands

| Command | Description |
|---------|-------------|
| `/gsd-teams:init` | Set up team configuration (member name, sync mode) |
| `/gsd-teams:share` | Share planning state to team directory |
| `/gsd-teams:consolidate` | Generate consolidated milestones and status |

### Typical workflow

```bash
# First time: configure your team identity
/gsd-teams:init

# After completing work: share your state
/gsd-teams:share

# To see team-wide progress: consolidate
/gsd-teams:consolidate
```

## How It Works

```mermaid
flowchart TD
    subgraph "Each Member Runs /gsd-teams:share"
        P1["alice: .planning/"] -->|rsync| S1[".planning-shared/team/alice/"]
        P2["bob: .planning/"] -->|rsync| S2[".planning-shared/team/bob/"]
        P3["ian/green: .planning/"] -->|rsync| S3[".planning-shared/team/ian/sessions/green/"]
    end

    subgraph "One Member Runs /gsd-teams:consolidate"
        S1 & S2 & S3 --> C[Consolidate]
        C --> M[".planning-shared/MILESTONES.md"]
        C --> ST[".planning-shared/STATUS.md"]
        C --> CL[".planning-shared/CHANGELOG.md"]
    end
```

### Share

`/gsd-teams:share` syncs your `.planning/` directory to `.planning-shared/team/{member}/` using rsync. Each member owns their subdirectory exclusively. Each share appends an audit entry to `.planning-shared/CHANGELOG.md` and commits to git.

### Consolidate

`/gsd-teams:consolidate` reads **all** member directories in a single run, spawns reporter agents in parallel to extract milestones and status, then generates:

- **`.planning-shared/MILESTONES.md`** — completed milestones across the team, ordered by date
- **`.planning-shared/STATUS.md`** — current work in progress per member/session
- **`.planning-shared/CHANGELOG.md`** — audit log of every share (created by share, read by consolidate)

### Generated files

**CHANGELOG.md** — appended by each `/gsd-teams:share` call:

```
[2026-02-06] alice: v2 Phase 10 (Selective Sync & Team Config)
[2026-02-05] bob: v1 Phase 5 (Documentation)
[2026-02-05] ian (green): v2 Phase 9 (Parallel Session Support)
```

**MILESTONES.md** — generated by `/gsd-teams:consolidate`:

```markdown
# Team Milestones

*Consolidated from 3 member/session entries on 2026-02-06 14:30*

## v1: Reusable OpenTofu Workflows (bob)

**Shipped:** 2026-02-02

**Delivered:** Secure, reusable GitHub Actions workflows for OpenTofu.

---

## v2: Team Sharing (alice)

**Shipped:** 2026-02-06

**Delivered:** Cross-session team coordination with shared planning state.
```

**STATUS.md** — generated by `/gsd-teams:consolidate`:

```markdown
# Team Status

*Consolidated from 3 member/session entries on 2026-02-06 14:30*

| Member     | Current Work                          | Last Shared |
|------------|---------------------------------------|-------------|
| alice      | Phase 10 (Selective Sync) - Complete  | 2026-02-06  |
| bob        | Phase 5 (Documentation) - Complete    | 2026-02-05  |
| ian/green  | Phase 9 (Parallel Sessions), Plan 3/5 | 2026-02-05  |
```

### Directory structure

All shared state lives under `.planning-shared/` in your repo:

```
.planning-shared/
├── CHANGELOG.md                          # Audit log (appended by share)
├── MILESTONES.md                         # Consolidated milestones (generated by consolidate)
├── STATUS.md                             # Consolidated status (generated by consolidate)
├── last_consolidated.json                # Version tracking for incremental extraction
└── team/
    ├── alice/                            # Flat member directory
    │   ├── STATE.md
    │   ├── ROADMAP.md
    │   └── ...
    ├── bob/
    │   └── ...
    └── ian/
        └── sessions/
            └── green/                    # Session directory (slash notation)
                ├── STATE.md
                └── ...
```

## Configuration

Team settings live in `.planning/config.json` under the `team` key:

```json
{
  "team": {
    "member": "alice",
    "sync": "full",
    "max_session_age_days": 1
  }
}
```

| Setting | Description | Default |
|---------|-------------|---------|
| `member` | Your team identity (e.g., `alice` or `ian/green`) | -- |
| `sync` | Sync mode: `full` (all planning files) or `shallow` (summaries only) | `full` |
| `max_session_age_days` | Auto-clean session directories older than N days | `1` |

Run `/gsd-teams:init` to configure these interactively.

## Parallel Sessions

Use slash notation to create session directories for parallel work:

```
member: ian/green
```

This creates the directory structure `.planning-shared/team/ian/sessions/green/` and tracks each session independently in consolidated output.

## License

[MIT](LICENSE)
